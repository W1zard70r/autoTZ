# Online Course Platform

## GENERAL
### Общие сведения

#### 1.1 Сведения о проекте

*   Разработка проекта осуществляется с использованием **спринтовой методологии**.
*   Выпуск (релиз) запланирован на **вторник**.
*   В целях минимизации рисков, связанных с развертыванием, рекомендуется **избегать проведения выпусков в пятницу вечером**.

#### 1.2 Заинтересованные стороны

*   Александр
*   Гриша
*   Мария
*   Сергей
*   Елена (HR)

## FUNCTIONAL
# Функциональные требования

## 1. Аутентификация и Авторизация Пользователей

1.1. Система должна обеспечивать функции аутентификации и авторизации пользователей.
1.2. Для реализации аутентификации система должна использовать протокол OAuth 2.0.
1.3. На первом этапе реализации система должна поддерживать аутентификацию пользователей через Google OAuth.
1.4. На втором этапе реализации система должна поддерживать аутентификацию пользователей через GitHub OAuth.
1.5. Токены обновления (refresh tokens) должны храниться в HTTP-only cookie с целью предотвращения атак типа Cross-Site Scripting (XSS).
1.6. Для хранения информации о сессиях авторизации должна использоваться база данных Redis.

## 2. Формат API

2.1. API системы должно последовательно возвращать данные в формате JSON.

## STACK
### 3. Стек технологий

Настоящий раздел описывает технологический стек, используемый для разработки, развертывания и функционирования системы.

#### 3.1. Базы данных

*   **PostgreSQL**:
    *   Версия: 16.
    *   Назначение: Выбрана в качестве основной базы данных для хранения пользовательских данных и транзакций. Обеспечивает соответствие ACID-принципам.
    *   Управление: Применяются миграции базы данных, включая добавление поля 'theme' в таблицу 'users'.
    *   Локальная разработка: Разворачивается в Docker-контейнере.
*   **Redis**:
    *   Назначение: Используется для эффективного хранения информации об авторизационных сессиях, включая ключи сессий.
    *   Объем данных: Прогнозируемый объем данных составляет несколько мегабайт.

#### 3.2. Фронтенд

*   **React**:
    *   Версия: 18.
    *   Тип приложения: Единое одностраничное приложение (SPA).
    *   UI-библиотека: Material UI используется в качестве библиотеки компонентов пользовательского интерфейса.
    *   Назначение: Является основным пользовательским интерфейсом системы.

#### 3.3. Инфраструктура и инструменты

*   **Управление секретами**: Секреты и конфиденциальные конфигурации управляются посредством переменных окружения.
*   **CI/CD**: GitHub Actions используется для реализации процессов непрерывной интеграции и непрерывного развертывания, обеспечивая автоматическое развертывание при каждом пуше в ветку 'master'.
*   **Локальная разработка**: Docker Compose применяется для оркестрации локальной среды разработки.
*   **Nginx**: Конфигурация Nginx используется для решения различных инфраструктурных задач, включая обработку ошибок CORS (Cross-Origin Resource Sharing).

## INTERFACE
## Раздел: UI/UX Дизайн и Функциональность

### 1. Общие требования к дизайну

*   Приложение должно быть реализовано с использованием принципов mobile-first дизайна и поддерживать адаптивную верстку для корректного отображения на различных устройствах и размерах экранов.

### 2. Функциональность "Темная тема"

*   В приложении должна быть предусмотрена функция "Темная тема".
*   Предпочтения пользователя относительно выбранной темы (светлая/темная) должны сохраняться в его профиле для обеспечения кросс-девайсной синхронизации.
*   Для реализации данной функциональности требуется выполнение следующих работ:
    *   Рефакторинг существующих CSS-переменных для поддержки динамического переключения тем.
    *   Добавление нового поля в базу данных для хранения предпочтений темы пользователя.

